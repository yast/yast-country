@HEADER-COMMENT@

@HEADER@
Group:  System/YaST
License:        GPL-2.0
#policy files for YaPI dbus interface
Source1:        org.opensuse.yast.modules.yapi.time.policy
Source2:        org.opensuse.yast.modules.yapi.language.policy
BuildRequires:	perl-XML-Writer update-desktop-files yast2-devtools yast2-testsuite yast2 yast2-perl-bindings
BuildRequires:  polkit-devel
Requires:	yast2-trans-stats yast2-perl-bindings timezone
# XVersion.ycp
# Wizard::SetDesktopTitleAndIcon
Requires:	yast2 >= 2.21.22
# Pkg::SetPackageLocale, Pkg::GetTextLocale
Requires:       yast2-pkg-bindings >= 2.15.3
# IconPath support for MultiSelectionBox
Requires:	yast2-core >= 2.16.28
# new API of ntp-client_proposal.ycp
Conflicts:	yast2-ntp-client < 2.18.0
# wrapper_storage.ycp
Requires:       yast2-packager >= 2.23.3

Requires:	yast2-country-data

Provides:	yast2-config-environment
Provides:	yast2-config-keyboard
Provides:	yast2-config-language
Provides:	yast2-config-timezone
Obsoletes:	yast2-config-environment
Obsoletes:	yast2-config-keyboard
Obsoletes:	yast2-config-language
Obsoletes:	yast2-config-timezone
Provides:	yast2-db-country yast2-db-keyboard yast2-db-timezone
Obsoletes:	yast2-db-country yast2-db-keyboard yast2-db-timezone
Provides:	yast2-trans-inst-keyboard
Obsoletes:	yast2-trans-inst-keyboard
Provides:	yast2-trans-inst-language
Obsoletes:	yast2-trans-inst-language
Provides:	yast2-trans-inst-timezone
Obsoletes:	yast2-trans-inst-timezone
Provides:	yast2-trans-inst-environment
Obsoletes:	yast2-trans-inst-environment
Provides:	y2d_inst-keyboard
Obsoletes:	y2d_inst-keyboard
Provides:	y2d_inst-timezone
Obsoletes:	y2d_inst-timezone
Provides:	y2t_inst-language
Obsoletes:	y2t_inst-language
Provides:	y2t_inst-environment
Obsoletes:	y2t_inst-environment

Requires:       yast2-ruby-bindings >= 1.0.0

Summary:	YaST2 - Country Settings (Language, Keyboard, and Timezone)

%description
Country specific data and configuration modules (language, keyboard,
timezone) for yast2.

@PREP@

@BUILD@

@INSTALL@

# Policies
mkdir -p $RPM_BUILD_ROOT/usr/share/polkit-1/actions
install -m 0644 %SOURCE1 $RPM_BUILD_ROOT/usr/share/polkit-1/actions/
install -m 0644 %SOURCE2 $RPM_BUILD_ROOT/usr/share/polkit-1/actions/

@CLEAN@

# common
%files
%defattr(-,root,root)
%doc @docdir@
%doc COPYING
@moduledir@/Console.rb
@moduledir@/Keyboard.rb
@moduledir@/Timezone.rb
%dir @moduledir@/YaPI
@moduledir@/YaPI/TIME.pm
@moduledir@/YaPI/LANGUAGE.pm
@clientdir@/*.rb
@ydatadir@/*.ycp
@yncludedir@/keyboard/
@yncludedir@/timezone/
@scrconfdir@/*.scr
@schemadir@/autoyast/rnc/*.rnc
@desktopdir@/yast-language.desktop
@desktopdir@/timezone.desktop
@desktopdir@/keyboard.desktop
%dir /usr/share/polkit-1
%dir /usr/share/polkit-1/actions
%attr(644,root,root) %config /usr/share/polkit-1/actions/org.opensuse.yast.modules.yapi.*.policy

%package data
Requires:       yast2-ruby-bindings >= 1.0.0

Summary:	YaST2 - Data files for Country settings
Group:          System/YaST

%description data
Data files for yast2-country together with the most often used API
functions (Language module)

%files data
%defattr(-,root,root)
%dir @ydatadir@/languages
@ydatadir@/languages/*.ycp
@moduledir@/Language.rb
